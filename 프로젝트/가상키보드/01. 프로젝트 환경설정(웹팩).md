### í™˜ê²½

nodeJS, npm, vsCode, Chrome

ëª¨ë“ˆ ë²ˆë“¤ëŸ¬(ì›¹íŒ©)

ì›¹íŒ© - html, css, JSë¥¼ í•˜ë‚˜ì˜ íŒŒì¼ í˜¹ì€ ì—¬ëŸ¬ê°œì˜ íŒŒì¼ë¡œ ì••ì¶• ë³‘í•©í•˜ëŠ” í”„ë¡œê·¸ë¨

### ì„¸íŒ…

- íŒ¨í‚¤ì§€JSON ì´ˆê¸°í™”
    
    `npm init -y` 
    
- ì›¹íŒ© ê´€ë ¨ íŒ¨í‚¤ì§€ ì„¤ì¹˜
    
    `npm i -D webpack webpack-cli webpack-dev-server`
    
    <aside>
    ğŸ”¥  -D ? devDependenciesë¡œ ì„¤ì¹˜í•˜ê² ë‹¤ëŠ” ëœ»!
    ë¡œì»¬ê°œë°œì—ë§Œ í•„ìš”í•œ íŒ¨í‚¤ì§€ë€ ëœ»ì…ë‹ˆë‹¤.
    
    -Dë¥¼ ë¹¼ë©´ ë””íœë˜ì‹œë¡œ ì„¤ì¹˜í•œë‹¤ëŠ” ëœ»!
    í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œ í•„ìš”í•œ íŒ¨í‚¤ì§€ë€ ëœ»ì…ë‹ˆë‹¤.
    
    </aside>
    
    ì›¹íŒ©ì€ ë²„ì „ì„ ë§ì¶”ëŠ”ê²Œ ì¢‹ìŠµë‹ˆë‹¤.
    
    package.jsonì—ì„œ ë²„ì „ì„ ë³€ê²½í•˜ê³ ,
    
    í„°ë¯¸ë„ì—ì„œ `npm i` ë¥¼ ì‹¤í–‰í•˜ë©´ ë³€ê²½ëœ ë²„ì „ìœ¼ë¡œ ì„¤ì¹˜ê°€ ë©ë‹ˆë‹¤.
    
    ```tsx
    "devDependencies": {
        "webpack": "^5.65.0",
        "webpack-cli": "^4.9.1",
        "webpack-dev-server": "^4.7.2"
      }
    ```
    

- ë””ë ‰í† ë¦¬ë¥¼ ì…‹íŒ…í•©ë‹ˆë‹¤.
    
    ![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/7bce5a19-27d0-48b5-9a00-e7d2062e61c7/Untitled.png)
    
- ì›¹íŒ©ì„¤ì •íŒŒì¼ ìƒì„±
    
    ìµœìƒìœ„ì— `webpack.config.js` íŒŒì¼ì„ ìƒì„± í›„ ì•„ë˜ ì½”ë“œ ì…ë ¥
    
    ```tsx
    const path = require("path");
    
    module.exports = {
      entry: "./src/js/index.js",
      output: {
        filename: "bundle.js",
        path: path.resolve(__dirname, "./dist"),
        clean: true
      }
    }
    ```
    
    ì„¤ëª…
    
    ```tsx
    // pathë¼ëŠ” ëª¨ë“ˆì„ ê°€ì ¸ì™€ ì›¹íŒ©ì´ ì ˆëŒ€ê²½ë¡¤ë¥¼ ì°¾ì„ ìˆ˜ ìˆë„ë¡ í•¨
    const path = require("path");
    
    module.exports = {
    	// js íŒŒì¼ì˜ ì§„ì…ì 
      entry: "./src/js/index.js", 
    	// ë¹Œë“œë¥¼ í–ˆì„ ë•Œ ë²ˆë“¤íŒŒì¼ ê´€ë ¨ ì†ì„± ì„¤ì •
      output: {
    		// íŒŒì¼ ì´ë¦„
        filename: "bundle.js",
    		// ë²ˆë“¤ íŒŒì¼ì˜ ìƒì„± ê²½ë¡œ (ì ˆëŒ€ê²½ë¡œë¥¼ ë„£ì–´ë¼!)
        path: path.resolve(__dirname, "./dist"),
    		// ë²ˆë“¤ íŒŒì¼ ìƒì„±ì‹œ ë‹¤ë¥¸ íŒŒì¼ì´ ìˆìœ¼ë©´ ì‚­ì œí›„ ìƒˆë¡œ ìƒì„±
        clean: true
      }
    }
    ```
    
- ì¶”ê°€ì ì¸ ì••ì¶• í”ŒëŸ¬ê·¸ì¸ ì„¤ì¹˜
    
    `npm i -D terser-webpack-plugin`
    

- ìµœì¢… ì›¹íŒ© í™˜ê²½
    
    ```tsx
    const path = require("path");
    const TerserWebpackPlugin = require('terser-webpack-plugin');
    
    module.exports = {
      entry: "./src/js/index.js",
      output: {
        filename: "bundle.js",
        path: path.resolve(__dirname, "./dist"),
        clean: true
      },
      devtool: "source-map", // ë¹Œë“œí•œ íŒŒì¼ê³¼ ì›ë³¸ íŒŒì¼ì„ ì—°ê²°ì‹œí‚¤ëŠ” ê¸°ëŠ¥
      mode: "development", // ì½”ë“œ ë‚œë…í™” ê¸°ëŠ¥ì œê³µ ì—¬ë¶€
      optimization: {
        minimizer: [
          new TerserWebpackPlugin()
        ]
      }
    }
    ```
    
- ì›¹íŒ© ì‹¤í–‰
    
    `npx webpack`
    
    ê·¸ëŸ¬ë©´ ë””ë ‰í† ë¦¬ì— dist í´ë”ì™€ ê·¸ ì•ˆì— bundle.jsê°€ ìƒì„±ë©ë‹ˆë‹¤.
    
- í…ŒìŠ¤íŠ¸í•´ë³´ê¸°
    
    index.jsì— `console.log(â€helloâ€)`ë¥¼ ì…ë ¥í•˜ê³  
    
    ë‹¤ì‹œ `npx webpack`ì„ ì‹¤í–‰í•´ ë´…ì‹œë‹¤.
    
    ê·¸ëŸ¬ë©´ ì–´ë–¤ ë³€í™”ê°€ ìƒê¸¸ê¹Œìš”?
    
    1. bundle.jsì— ìš°ë¦¬ê°€ ì‘ì„±í•œ `console.log(â€helloâ€)`ê°€ í¬í•¨ë©ë‹ˆë‹¤.
        
        ```tsx
        /******/ (() => { // webpackBootstrap
        var __webpack_exports__ = {};
        /*!*************************!*\
          !*** ./src/js/index.js ***!
          \*************************/
        console.log("Hello");
        /******/ })()
        ;
        //# sourceMappingURL=bundle.js.map
        ```
        
    2. dist í´ë” ì•ˆì— [bundle.js.map](http://bundle.js.map) íŒŒì¼ì´ ìƒì„±ë©ë‹ˆë‹¤.
        
        ```tsx
        {"version":3,"file":"bundle.js","mappings":";;;;;AAAA,qB","sources":["webpack://keybord_event/./src/js/index.js"],"sourcesContent":["console.log(\"Hello\");"],"names":[],"sourceRoot":""}
        ```
        
        [bundle.js.map](http://bundle.js.map) íŒŒì¼ì€ ì•„ê¹Œ ì›¹íŒ©ì—ì„œ ë°ë¸Œíˆ´ ì„¤ì •í•œ ì†ŒìŠ¤ë§µì„ ë‚˜íƒ€ë‚´ëŠ” íŒŒì¼ì…ë‹ˆë‹¤. 
        
        ```tsx
        devtool: "source-map"
        ```
        
- html íŒŒì¼ì„ ìƒì„±
    
    ìµœìƒìœ„ì— index.html íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤. 
    
- htmlê³¼ cssë¥¼ ì„¤ì •í•´ì¤„ ëª¨ë“ˆì„ ì„¤ì •í•©ë‹ˆë‹¤.
    
    `npm i -D html-webpack-plugin`
    
    ì„¤ì¹˜ í›„ ê¼­ package.jsonì—ì„œ ì„¤ì¹˜ì—¬ë¶€ë¥¼ í™•ì¸í•˜ì„¸ìš”!
    
    ```tsx
    "html-webpack-plugin": "^5.5.0"
    ```
    
    `npm i -D mini-css-extract-plugin css-loader css-minimizer-webpack-plugin`
    
    íŒ¨í‚¤ì§€ë“¤ì˜ ë²„ì „ì„ í™•ì¸í•©ë‹ˆë‹¤.
    
    ```json
    "devDependencies": {
        "css-loader": "^6.5.1",
        "css-minimizer-webpack-plugin": "^3.3.1",
        "html-webpack-plugin": "^5.5.0",
        "mini-css-extract-plugin": "^2.4.6",
        "terser-webpack-plugin": "^5.3.0",
        "webpack": "^5.65.0",
        "webpack-cli": "^4.9.1",
        "webpack-dev-server": "^4.7.2"
      }
    ```
    
- ì›¹íŒ©ì—ì„œ ì„¤ì •ê°’ë“¤ì„ ì¶”ê°€ ì…ë ¥í•©ë‹ˆë‹¤.
    
    webpack.config.jsì—ì„œ ì…ë ¥ ì¤‘ì…ë‹ˆë‹¤. 
    
    ë¨¼ì € htmlWebpackì„¤ì •ì„ ë´…ì‹œë‹¤.
    
    ```json
    plugins: [
        new HtmlWebpack({
    			// htmlì˜ íƒ€ì´í‹€
          title: "keybord",
    			// ì‚¬ìš©í•  íŒŒì¼ (ìµœìƒìœ„ë¼ ìƒëŒ€ê²½ë¡œ)
          template: "./index.html",
    			// íŒŒì¼ ë¹Œë“œ JSë¥¼ ë°”ë””ì— ë„£ì„ê±°ëƒ í—¤ë”ì— ë„£ì„ê±°ëƒëŠ” ì„¤ì •
          inject: "body",
    			// íŒŒë¹„ì½˜ (íŒŒì¼ì€ ë‹¤ìš´ë°›ì•„ì•¼ ê² ì£  ã…‹ã…‹)
          favicon: "./favicon.ico"
        })
      ]
    ```
    
    css ì„¤ì •ë„ í•´ë´…ì‹œë‹¤.
    
    ```json
    new MiniCssExtracrPlugin({
          filename: "style.css" 
        })
    ```
    
- moduleë„ ì„¤ì •í•©ë‹ˆë‹¤.
    
    ì—­ì‹œ webpackì—ì„œ ì§„í–‰í•©ë‹ˆë‹¤.
    
    ```json
    module:{
        rules:[
          {
    				// ëª¨ë“  cssíŒŒì¼ì„ useì˜ ë¡œë”ë¥¼ ì´ìš©í•´ ë¶ˆëŸ¬ë“¤ì´ê² ë‹¤ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤.
            test: /\.css$/,
            use: [MiniCssExtracrPlugin.loader, "css-loader"]
          }
        ]
      },
    ```
    
- í˜„ì¬ê¹Œì§€ì˜ ì›¹íŒ© ìƒí™©ì…ë‹ˆë‹¤.
    
    ```jsx
    const path = require("path");
    const TerserWebpackPlugin = require('terser-webpack-plugin');
    const HtmlWebpack = require('html-webpack-plugin');
    const MiniCssExtracrPlugin = require('mini-css-extract-plugin');
    const CssMinimizerPlugin = require("css-minimizer-webpack-plugin");
    
    module.exports = {
      entry: "./src/js/index.js",
      output: {
        filename: "bundle.js",
        path: path.resolve(__dirname, "./dist"),
        clean: true
      },
      devtool: "source-map", 
      mode: "development", 
      plugins: [
        new HtmlWebpack({
          title: "keybord",
          template: "./index.html",
          inject: "body",
          // favicon: "./favicon.ico"
        }),
        new MiniCssExtracrPlugin({
          filename: "style.css" 
        })
      ],
      module:{
        rules:[
          {
            test: /\.css$/,
            use: [MiniCssExtracrPlugin.loader, "css-loader"]
          }
        ]
      },
      optimization: {
        minimizer: [
          new TerserWebpackPlugin(),
          new CssMinimizerPlugin()
        ]
      }
    }
    ```
    
- html ë¡œëŒ€ì‰¬ ë¬¸ë²•ìœ¼ë¡œ ë°ì´í„° ë°”ì¸ë”©í•˜ê¸°
    
    ì›¹íŒ©ì—ì„œ htmlWebpack í”ŒëŸ¬ê·¸ì¸ìœ¼ë¡œ 
    
    íƒ€ì´í‹€ê³¼, í…œí”Œë¦¿ ë“±ì„ ì„¤ì •í–ˆì—ˆì£ . ì´ í”ŒëŸ¬ê·¸ì¸ì„ ì“°ë©´
    
    htmlì—ì„œ ë¡œëŒ€ì‰¬ ë¬¸ë²•ì„ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.
    
    ë”°ë¼ì„œ htmlì— ë“¤ì–´ê°€ ë¡œëŒ€ì‰¬ ë¬¸ë²•ìœ¼ë¡œ ë°ì´í„°ë¥¼ ë°”ì¸ë”© í•´ì•¼ í•©ë‹ˆë‹¤. 
    
    ```html
    <title>
          <%= htmlWebpackPlugin.options.title %>
        </title>
    ```
    
- index.jsì— ë“¤ì–´ê°€ CSSë¥¼ input í•©ë‹ˆë‹¤.
    
    `import "../css/style.cssâ€`
    
- í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ cssë¥¼ ì¡°ê¸ˆ ì…ë ¥í•´ë´…ì‹œë‹¤.
    
    ```html
    p {
      color: red;
    }
    ```
    
- í¸ì˜ë¥¼ ìœ„í•´ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.
    
    package.jsonì— ë“¤ì–´ê°€ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.  
    
    ```html
    "scripts": {
        "build": "webpack --mode=production"
      }
    ```
    

- npm run build ë¡œ ì‹¤í–‰í•´ë´…ë‹ˆë‹¤.
    
    ê·¸ëŸ¬ë©´ dist í´ë” ì•ˆì— ìƒˆë¡œìš´ íŒŒì¼ë“¤ì´ ìƒê¹ë‹ˆë‹¤. ë‚´ìš©ë“¤ì„ í™•ì¸í•´ë³´ì„¸ìš”!
    
    ì—”í„°ë‚˜ ë„ì–´ì“°ê¸°ê°€ ì—†ëŠ” ëª¨ìŠµìœ¼ë¡œ í™•ì¸ì´ ë ê±°ì—ìš”.
    
    ìœ„ì— modeë¥¼ í”„ë¡œë•ì…˜ìœ¼ë¡œ í•´ì„œ ê·¸ë˜ìš”. ë”± í•„ìš”í•œ ì½”ë“œë§Œ ë‚˜ì˜¤ê²Œ ë©ë‹ˆë‹¤. 
    
    ì´ë ‡ê²Œ ë˜ë©´ ì‚¬ìš©ìëŠ” ë³´ë‹¤ ì••ì¶•ëœ íŒŒì¼ì„ ë°›ê²Œë˜ë‹ˆ ì†ë„ë„ ë” ë¹ ë¥´ê² ì£ ? 
    

- devServerë¥¼ ì„¤ì •í•©ì‹œë‹¤.
    
    ë‹¤ì‹œ ì›¹íŒ© íŒŒì¼ë¡œ ëŒì•„ê°‘ë‹ˆë‹¤. 
    
    ```jsx
    devServer: {
        host: "localhost",
        port:8080,
    		// ì›¹íŒ©ë°ë¸ŒìŠ¤ì„œë²„ë¥¼ ì—´ë•Œ ë§ˆë‹¤ ë¸Œë¼ìš°ì €ë¥¼ ìƒˆì°½ ì—´ê² ë‹¤ëŠ” ëœ»
        open:true,
        watchFiles: 'idnex.html'
      },
    ```
    
    ì˜ ì„¤ì •ì´ ë˜ì—ˆëŠ”ì§€ í™•ì¸í•´ë´…ì‹œë‹¤.
    
    `npx webpack-dev-server`
    
    ì´ë ‡ê²Œ ë˜ë©´, ë³€ë™ì‚¬í•­ì´  ìˆì„ ë•Œ ìƒˆë¡œê³ ì¹¨ì„ ì•ˆí•´ë„ ìë™ìœ¼ë¡œ ë³€ê²½ì´ ë©ë‹ˆë‹¤!
    
- ë§ˆì§€ë§‰ìœ¼ë¡œ ìŠ¤í¬ë¦½íŠ¸ë¥¼ í•˜ë‚˜ ë” ì¶”ê°€í•©ë‹ˆë‹¤.
    
    ```jsx
    "dev": "webpack-dev-server"
    ```
    
    `npm run dev`
    

## ìµœì¢…

í”„ë¡œì íŠ¸ ì‹¤í–‰ : `npm run dev`

package.json

```jsx
{
  "name": "keybord_event",
  "version": "1.0.0",
  "description": "",
  "main": "index.js",
  "scripts": {
    "build": "webpack --mode=production",
    "dev": "webpack-dev-server"
  },
  "keywords": [],
  "author": "",
  "license": "ISC",
  "devDependencies": {
    "css-loader": "^6.5.1",
    "css-minimizer-webpack-plugin": "^3.3.1",
    "html-webpack-plugin": "^5.5.0",
    "mini-css-extract-plugin": "^2.4.6",
    "terser-webpack-plugin": "^5.3.0",
    "webpack": "^5.65.0",
    "webpack-cli": "^4.9.1",
    "webpack-dev-server": "^4.7.2"
  }
}
```

webpack.config.js

```jsx
const path = require("path");
const TerserWebpackPlugin = require('terser-webpack-plugin');
const HtmlWebpack = require('html-webpack-plugin');
const MiniCssExtracrPlugin = require('mini-css-extract-plugin');
const CssMinimizerPlugin = require("css-minimizer-webpack-plugin");

module.exports = {
  entry: "./src/js/index.js",
  output: {
    filename: "bundle.js",
    path: path.resolve(__dirname, "./dist"),
    clean: true
  },
  devtool: "source-map", 
  mode: "development", 
  devServer: {
    host: "localhost",
    port:8080,
    open:true,
    watchFiles: 'idnex.html'
  },
  plugins: [
    new HtmlWebpack({
      title: "keybord",
      template: "./index.html",
      inject: "body",
      // favicon: "./favicon.ico"
    }),
    new MiniCssExtracrPlugin({
      filename: "style.css" 
    })
  ],
  module:{
    rules:[
      {
        test: /\.css$/,
        use: [MiniCssExtracrPlugin.loader, "css-loader"]
      }
    ]
  },
  optimization: {
    minimizer: [
      new TerserWebpackPlugin(),
      new CssMinimizerPlugin()
    ]
  }
}
```